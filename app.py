import streamlit as st

st.set_page_config(page_title="í•œë°©ì†Œì‹± v1.1", layout="centered")
st.title("ğŸ“¦ í•œë°©ì†Œì‹± v1.1")
st.caption("ì™•ì´ˆë³´ë„ í•œ ë°©ì— ë„ë§¤ê¾¹ â†’ ì¿ íŒ¡ ìˆ˜ìµí™”ê¹Œì§€! (PRO ì—…ê·¸ë ˆì´ë“œ)")


# ğŸ” í‚¤ì›Œë“œ ì…ë ¥
keyword = st.text_input("ğŸ”‘ ì†Œì‹± í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”:", "ê·€ì—¬ìš´ ì–‘ë§")


# âœ… ë„¤ì´ë²„ ì—°ê´€ ê²€ìƒ‰ì–´ (ìƒ˜í”Œ)
if st.button("ğŸ“Š ë¶„ì„ ì‹œì‘"):
    st.subheader("âœ… ì—°ê´€ í‚¤ì›Œë“œ (ë„¤ì´ë²„ Suggest API ê¸°ì¤€)")
    st.json([
        "ê·€ì—¬ìš´ ì–‘ë§",
        "ê·€ì—¬ìš´ ì–‘ë§ ì¶”ì²œ",
        "ê·€ì—¬ìš´ ì–‘ë§ ì½”ë””",
        "ê·€ì—¬ìš´ ì–‘ë§ ì—¬ì",
        "ê·€ì—¬ìš´ ì–‘ë§ ë‚¨ì",
        "ê·€ì—¬ìš´ ì–‘ë§ ì„¸íŠ¸",
        "ê·€ì—¬ìš´ ì–‘ë§ ë¸Œëœë“œ",
        "ê·€ì—¬ìš´ ì–‘ë§ ì„ ë¬¼",
        "ê·€ì—¬ìš´ ì–‘ë§ ì‡¼í•‘ëª°",
        "ê·€ì—¬ìš´ ì–‘ë§ íŒŒëŠ” ê³³"
    ])

    st.subheader("ğŸ”¥ ì¼ì²´í˜• íƒ‘ë°± í‚¤ì›Œë“œ")
    st.json([
        "ì–‘ë§ ì¶”ì²œ",
        "ê·€ì—¬ìš´ ì–‘ë§",
        "íŒ¨ì…˜ ì–‘ë§ 3ì¢…",
        "ì—¬ì„± ì–‘ë§ ì„¸íŠ¸"
    ])


# ğŸ’¸ ë§ˆì§„ ë¦¬í„°
st.subheader("ğŸ’° ë§ˆì§„ ë¦¬í„°")
cost = st.text_input("ë„ë§¤ê°€ ì…ë ¥(ì›)", "3000")
sell = st.text_input("íŒë§¤ê°€ ì…ë ¥(ì›)", "9900")

if st.button("ğŸ“ˆ ë§ˆì§„ ê³„ì‚°í•˜ê¸°"):
    try:
        cost = int(cost)
        sell = int(sell)
        margin = sell - cost - 2500 - int(sell * 0.13)
        margin_rate = margin / sell * 100
        st.success(f"ì˜ˆìƒ ë§ˆì§„: {margin}ì› / ë§ˆì§„ìœ¨: {margin_rate:.1f}%")
    except:
        st.error("ìˆ«ìë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”.")

# ğŸ§® ì‹¤ì „ ê°€ê²© ë¶„ì„ ë¸”ëŸ­
st.subheader("ğŸ“¦ ì‹¤ì „ ê°€ê²© ë¶„ì„ ë¸”ëŸ­")
sample_prices = st.text_area("ğŸ“˜ ë³µì‚¬í•œ ê°€ê²© ë°ì´í„° ë¶™ì—¬ë„£ê¸° (ìˆ«ìë§Œ ì¤„ë°”ê¿ˆ)", "9900\n9800\n8700\n11900\n8800")

if st.button("ğŸ” í‰ê· ê°€ ë¶„ì„"):
    try:
        prices = [int(p.strip()) for p in sample_prices.strip().split("\n") if p.strip().isdigit()]
        avg_price = sum(prices) / len(prices)
        st.success(f"ì…ë ¥í•œ {len(prices)}ê±´ í‰ê·  íŒë§¤ê°€: {round(avg_price)}ì›")
    except:
        st.error("ê°€ê²© ë°ì´í„°ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.")